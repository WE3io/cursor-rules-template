<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Black Box Testing | AI Blindspots</title>
<meta name=title content="Black Box Testing"><meta name=description content="Black box testing says that you should test the functionality of a component
without knowing its internal structure.  By default, LLMs have difficulty
abiding with this, because by default the implementation file will be put into
the context, or the agent will have been tuned to pull up the implementation
to understand how to interface with it.  Sonnet 3.7 in Cursor also has a
strong tendency to try to make code consistent, which that it will try to
eliminate redundancies from the test files, even though black box testing
suggests it is better to keep the redundancy to avoid reflecting bugs from the
implementation directly in the test."><meta name=keywords content><meta property="og:url" content="https://ezyang.github.io/ai-blindspots/black-box-testing/"><meta property="og:site_name" content="AI Blindspots"><meta property="og:title" content="Black Box Testing"><meta property="og:description" content="Black box testing says that you should test the functionality of a component without knowing its internal structure. By default, LLMs have difficulty abiding with this, because by default the implementation file will be put into the context, or the agent will have been tuned to pull up the implementation to understand how to interface with it. Sonnet 3.7 in Cursor also has a strong tendency to try to make code consistent, which that it will try to eliminate redundancies from the test files, even though black box testing suggests it is better to keep the redundancy to avoid reflecting bugs from the implementation directly in the test."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-03-03T21:18:37-05:00"><meta property="article:modified_time" content="2025-03-03T21:18:37-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Black Box Testing"><meta name=twitter:description content="Black box testing says that you should test the functionality of a component without knowing its internal structure. By default, LLMs have difficulty abiding with this, because by default the implementation file will be put into the context, or the agent will have been tuned to pull up the implementation to understand how to interface with it. Sonnet 3.7 in Cursor also has a strong tendency to try to make code consistent, which that it will try to eliminate redundancies from the test files, even though black box testing suggests it is better to keep the redundancy to avoid reflecting bugs from the implementation directly in the test."><meta itemprop=name content="Black Box Testing"><meta itemprop=description content="Black box testing says that you should test the functionality of a component without knowing its internal structure. By default, LLMs have difficulty abiding with this, because by default the implementation file will be put into the context, or the agent will have been tuned to pull up the implementation to understand how to interface with it. Sonnet 3.7 in Cursor also has a strong tendency to try to make code consistent, which that it will try to eliminate redundancies from the test files, even though black box testing suggests it is better to keep the redundancy to avoid reflecting bugs from the implementation directly in the test."><meta itemprop=datePublished content="2025-03-03T21:18:37-05:00"><meta itemprop=dateModified content="2025-03-03T21:18:37-05:00"><meta itemprop=wordCount content="203"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:800px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fff;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--code-background-color:#f2f2f2;--code-color:#222;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#333;--heading-color:#eee;--text-color:#ddd;--link-color:#8cc2dd;--visited-color:#8b6fcb;--code-background-color:#777;--code-color:#ddd;--blockquote-color:#ccc}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;background-color:var(--code-background-color);color:var(--code-color);border-radius:3px}blockquote{border-left:1px solid #999;color:var(--code-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{padding:1px 15px;background-color:var(--code-background-color);color:var(--code-color);border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ai-blindspots/ class=title><h2>AI Blindspots</h2></a><nav><a href=/ai-blindspots/>Home</a>
<a href=/ai-blindspots/blog>Blog</a></nav></header><main><h1>Black Box Testing</h1><p><i><time datetime=2025-03-03>2025-03-03</time></i></p><content><p>Black box testing says that you should test the functionality of a component
without knowing its internal structure. By default, LLMs have difficulty
abiding with this, because by default the implementation file will be put into
the context, or the agent will have been tuned to pull up the implementation
to understand how to interface with it. Sonnet 3.7 in Cursor also has a
strong tendency to try to make code consistent, which that it will try to
eliminate redundancies from the test files, even though black box testing
suggests it is better to keep the redundancy to avoid reflecting bugs from the
implementation directly in the test.</p><p>Ideally, it would be possible to mask out or summarize implementations when
loading files into the context, to avoid overfitting on internal
implementation details that should be hidden. It would be necessary for the
architect to specify what the information hiding boundaries are.</p><h2 id=examples>Examples</h2><ul><li>I asked Sonnet 3.7 in Cursor to fix a failing test. While it made the
necessary fix, it also updated a hard-coded expected constant to instead be
computed using the same algorithm as the original file, instead of
preserving the constant as the test was originally written. See also
<a href=/ai-blindspots/preparatory-refactoring/>Preparatory Refactoring</a>.</li></ul></content><p></p></main><footer></footer></body></html>